<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>üíò</title>

  <!-- One clean font only -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;700;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#ffe3ee;
      --bg2:#ff9fbc;
      --text:#111;
      --yesScale: 1;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--text);
      background: radial-gradient(1200px 700px at 20% 0%, var(--bg1), var(--bg2));
      overflow:hidden;
    }

    /* Pages with fade */
    .page{
      position:fixed;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: 24px;
      text-align:center;

      opacity: 0;
      visibility: hidden;
      pointer-events: none;
      transition: opacity .35s ease;
    }
    .page.active{
      opacity: 1;
      visibility: visible;
      pointer-events: auto;
    }

    .content{
      width:min(820px, 92vw);
      position: relative;
      z-index: 2;
    }

    .headline{
      font-weight: 800;
      font-size: clamp(30px, 5vw, 56px);
      line-height: 1.05;
      margin: 0 0 18px;
      letter-spacing: -0.02em;
    }
    .sub{
      font-weight: 500;
      font-size: 16px;
      opacity:.85;
      margin: 0 0 26px;
    }

    .btn{
      border:0;
      border-radius: 999px;
      padding: 12px 18px;
      font-weight: 700;
      font-size: 16px;
      cursor:pointer;
      background:#111;
      color:#fff;
      transition: transform .12s ease, filter .12s ease;
      -webkit-tap-highlight-color: transparent;
    }
    .btn:hover{ filter: brightness(1.05); }
    .btn:active{ transform: scale(.98); }

    /* Final question layout */
    .question{
      margin: 0 0 18px;
      font-weight: 800;
      font-size: clamp(28px, 4.6vw, 54px);
      letter-spacing: -0.02em;
    }
    .message{
      height: 28px;
      margin: 0 0 16px;
      font-weight: 600;
      opacity: .85;
    }

    .arena{
      position: relative;
      width: min(700px, 92vw);
      height: 300px;
      margin: 0 auto;
    }

    .yay{
      font-weight: 800;
      font-size: clamp(42px, 6vw, 72px);
      letter-spacing: -0.03em;
      margin: 0 0 10px;
    }
    .tiny{
      margin: 0;
      font-weight: 500;
      font-size: 14px;
      opacity: .75;
    }

    .yes, .no{
      position:absolute;
      border:0;
      border-radius: 999px;
      padding: 12px 18px;
      font-weight: 800;
      font-size: 16px;
      cursor:pointer;
      color:#fff;
      box-shadow: 0 16px 34px rgba(0,0,0,.18);
      transition: transform .12s ease;
      -webkit-tap-highlight-color: transparent;
      user-select:none;
      white-space:nowrap;
    }
    .yes{
      background:#22c55e;
      left: 38%;
      top: 62%;
      transform: translate(-50%,-50%) scale(var(--yesScale));
    }
    .yes:hover{
      transform: translate(-50%,-50%) scale(calc(var(--yesScale) * 1.06));
    }
    .no{
      background:#ef4444;
      left: 62%;
      top: 62%;
      transform: translate(-50%,-50%);
    }

    /* Minimal heart burst (clean SVG outline) */
    .hearts{
      position:fixed;
      inset:0;
      pointer-events:none;
      overflow:hidden;
      z-index:1;
    }

    .heart{
      position:absolute;
      width: 18px;
      height: 18px;
      opacity: 0;
      animation: rise 2.2s ease-out forwards;
      filter: drop-shadow(0 10px 18px rgba(0,0,0,.08));
    }

    @keyframes rise{
      0%   { opacity: 0; transform: translate(0,0) scale(.95); }
      10%  { opacity: .85; }
      100% { opacity: 0; transform: translate(var(--dx, 0px), -250px) scale(2.15); }
    }
  </style>
</head>

<body>
  <!-- 1 -->
  <section class="page active" id="p1">
    <div class="content">
      <h1 class="headline">√∂ffne die website auf deinem Mac!</h1>
      <p class="sub">f√ºr optimale Experience und so...</p>
      <button class="btn" data-next="p2">Weiter</button>
    </div>
  </section>

  <!-- 2 -->
  <section class="page" id="p2">
    <div class="content">
      <h1 class="headline">Hey Josi, das ein bisschen awkward</h1>
      <button class="btn" data-next="p3">Weiter</button>
    </div>
  </section>

  <!-- 3 -->
  <section class="page" id="p3">
    <div class="content">
      <h1 class="headline">und kommt auch voll aus dem Nichts, aber‚Ä¶</h1>
      <button class="btn" data-next="p4">Okay</button>
    </div>
  </section>

  <!-- 4 -->
  <section class="page" id="p4">
    <div class="content">
      <div class="question">Will you be my Valentine? üíò</div>
      <div class="message" id="msg"></div>

      <div class="arena" id="arena">
        <button class="yes" id="yesBtn">Yes üëÄ</button>
        <button class="no" id="noBtn">No üòí</button>
      </div>
    </div>
  </section>

  <!-- 5 (YES PAGE) -->
  <section class="page" id="p5">
    <div class="content">
      <h1 class="yay">Yaay &lt;3</h1>
      <p class="tiny" id="triesText"></p>
    </div>

    <!-- hearts layer -->
    <div class="hearts" id="hearts"></div>
  </section>

  <script>
    // ---------- Navigation ----------
    const pages = ["p1","p2","p3","p4","p5"].map(id => document.getElementById(id));

    document.querySelectorAll("[data-next]").forEach(btn => {
      btn.addEventListener("click", () => showPage(btn.dataset.next));
    });

    function showPage(id){
      pages.forEach(p => p.classList.remove("active"));
      document.getElementById(id).classList.add("active");
    }

    // ---------- Valentine behavior ----------
    const arena   = document.getElementById("arena");
    const noBtn   = document.getElementById("noBtn");
    const yesBtn  = document.getElementById("yesBtn");
    const msgEl   = document.getElementById("msg");
    const triesText = document.getElementById("triesText");
    const heartsLayer = document.getElementById("hearts");

    let tries = 0;
    let yesScale = 1;

    const messages = {
      Test1: "Click einfach auf Ja",
      Test2: "Nicht ganz, der gro√üe gr√ºne Knopf",
      Test3: "üôÅ",
      Test4: "Langsam wirds respektlos",
      Test5: "Eine versucht wirklich ALLES um nicht auf Ja zu clicken üòû"
    };

    function setYesScale(v){
      yesScale = Math.min(5, v);
      document.documentElement.style.setProperty("--yesScale", yesScale.toFixed(3));
    }

    function updateMessage(){
      let text = "";
      if (tries <= 1) text = messages.Test1;
      else if (tries <= 2) text = messages.Test2;
      else if (tries <= 10) text = messages.Test3;
      else if (tries <= 30) text = messages.Test4;
      else text = messages.Test5;
      msgEl.textContent = text;
    }

    function moveNo(){
      const a = arena.getBoundingClientRect();
      const b = noBtn.getBoundingClientRect();

      const pad = 10;
      const maxX = a.width - b.width - pad;
      const maxY = a.height - b.height - pad;

      const x = pad + Math.random() * Math.max(pad, maxX);
      const y = pad + Math.random() * Math.max(pad, maxY);

      noBtn.style.left = x + "px";
      noBtn.style.top  = y + "px";
      noBtn.style.transform = "translate(0,0)";

      tries++;
      setYesScale(1 + tries * 0.12); // faster growth
      updateMessage();
    }

    // "No" dodges on hover + touch
    noBtn.addEventListener("mouseenter", moveNo);
    noBtn.addEventListener("touchstart", (e) => { e.preventDefault(); moveNo(); }, {passive:false});

    // "No" dodges when cursor gets close (radius)
    arena.addEventListener("mousemove", (e) => {
      const r = noBtn.getBoundingClientRect();
      const cx = r.left + r.width/2;
      const cy = r.top  + r.height/2;
      const dist = Math.hypot(e.clientX - cx, e.clientY - cy);

      if (dist < 50) moveNo(); // smaller radius = easier to click YES
    });

    // Minimal clean hearts (SVG outline)
    function burstHearts(){
      heartsLayer.innerHTML = "";

      const count = 20;
      for (let i = 0; i < count; i++){
        const h = document.createElement("div");
        h.className = "heart";

        // spawn near center-ish
        const x = 50 + (Math.random() * 26 - 13);
        const y = 68 + (Math.random() * 4 - 2);
        const dx = (Math.random() * 260 - 130) + "px";

        h.style.left = x + "%";
        h.style.top  = y + "%";
        h.style.setProperty("--dx", dx);
        h.style.animationDuration = (4 + Math.random() * 1.2) + "s";

        // Minimal heart SVG
        h.innerHTML = `
          <svg viewBox="0 0 24 24" width="18" height="18" fill="none"
               stroke="rgba(17,17,17,0.35)" stroke-width="2"
               stroke-linecap="round" stroke-linejoin="round">
            <path d="M20.8 4.6c-1.8-1.7-4.6-1.6-6.3 0L12 7.1 9.5 4.6c-1.7-1.6-4.5-1.7-6.3 0-2 1.9-2 5 0 6.9L12 20l8.8-8.5c2-1.9 2-5 0-6.9z"/>
          </svg>
        `;

        heartsLayer.appendChild(h);
        setTimeout(() => h.remove(), 12600);
      }
    }

    // Clicking yes -> page 5 + hearts + tries text
    yesBtn.addEventListener("click", () => {
      if (tries === 0) {
        triesText.textContent = "und du hast nicht mal ans Ablehnen gedacht üòå, bis Samstag <3";
      } else {
        triesText.textContent = `Und du hast nur ${tries}x versucht abzulehnen <3`;
      }

      showPage("p5");
      burstHearts();
    });

    updateMessage();
  </script>
</body>
</html>
